<ion-header no-border>
    <ion-toolbar class="toolbar">
        <button offset-1 class="button-back hidden-xs-down" (tap)="cancelEvaluation()" color="light" ion-button>Annuler</button>
        <button offset-1 class="button-back hidden-sm-up" (tap)="cancelEvaluation()" color="light" ion-button navPop>
            <ion-icon name="arrow-back"></ion-icon>       
        </button>
        <img src="assets/img/logo-app.png" class="logo-toolbar" alt="">
    </ion-toolbar>
</ion-header>

<ion-content class="no-ipad-scroll" class="main-container">
    <ion-grid *ngIf="categories" >
        <ng-container *ngFor="let category of categories">
            <ion-row>
                <h1 class="title">{{ category.name }}</h1>
            </ion-row>
            <ion-row>
                <div class="subcategory-container">
                    <ng-container *ngFor="let subcategory of subcategories">
                        <button [ngClass]="{'form-done': (subcategoriesDone.indexOf(subcategory.id_question_subcategory) > -1)}" (tap)="evaluateAction(category, subcategory, (subcategoriesDone.indexOf(subcategory.id_question_subcategory) > -1) ? 1 : 0)" class="subcategory-button button-done" ion-button color="light" *ngIf="subcategory.question_category_id == category.id_question_category">
                            {{ subcategory.name }} 
                        </button>
                    </ng-container>
                </div>
            </ion-row>
        </ng-container>
        <br>
        <br>
        <br>
        <ion-row *ngIf="subcategoriesDone.length == subcategories.length">
            <ion-col text-center>
                <button ion-button (tap)="validateEvaluation()" color="eatsalad" class="button-light">Valider l'évaluation</button>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col text-center>
                <button ion-button (tap)="validateEvaluation()" color="eatsalad" class="button-light">Valider l'évaluation</button>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>